{"ast":null,"code":"import axios from 'axios';\nclass UserAPI {\n  async getUserDetails() {\n    try {\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(`/api/users/`, config);\n      return data;\n    } catch (error) {\n      throw error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    }\n  }\n  async createUser(name, email, password) {\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const {\n        data\n      } = await axios.post('/api/users/register/', {\n        name,\n        email,\n        password\n      }, config);\n      return data;\n    } catch (error) {\n      throw error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    }\n  }\n  async updateUser(userId, updateData) {\n    try {\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`/api/users/profile/update/`, updateData, config);\n      return data;\n    } catch (error) {\n      throw error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    }\n  }\n  async deleteUser(userId) {\n    try {\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      await axios.delete(`/api/users/delete/${userId}/`, config);\n    } catch (error) {\n      throw error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    }\n  }\n  async login(email, password) {\n    try {\n      const {\n        data\n      } = await axios.post('/api/users/login/', {\n        username: email,\n        password: password\n      });\n      return data;\n    } catch (error) {\n      throw error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    }\n  }\n}\nconst userAPI = new UserAPI();\nexport default userAPI;","map":{"version":3,"names":["axios","UserAPI","getUserDetails","token","JSON","parse","localStorage","getItem","config","headers","Authorization","data","get","error","response","detail","message","createUser","name","email","password","post","updateUser","userId","updateData","put","deleteUser","delete","login","username","userAPI"],"sources":["C:/Users/anasm/OneDrive/Desktop/sarc assignment/full_stack/frontend/src/mocks/user.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nclass UserAPI {\r\n  async getUserDetails( ) {\r\n    try {\r\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.get(`/api/users/`, config);\r\n      return data;\r\n    } catch (error) {\r\n      throw error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message;\r\n    }\r\n  }\r\n\r\n  async createUser(name, email, password) {\r\n    try {\r\n \r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n         \r\n        }\r\n      };\r\n  \r\n      const { data } = await axios.post('/api/users/register/', { name, email, password }, config);\r\n      return data;\r\n    } catch (error) {\r\n      throw error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message;\r\n    }\r\n  }\r\n  \r\n\r\n  async updateUser(userId, updateData) {\r\n    try {\r\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.put(`/api/users/profile/update/`, updateData, config);\r\n      return data;\r\n    } catch (error) {\r\n      throw error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message;\r\n    }\r\n  }\r\n\r\n  async deleteUser(userId) {\r\n    try {\r\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n\r\n      await axios.delete(`/api/users/delete/${userId}/`, config);\r\n    } catch (error) {\r\n      throw error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message;\r\n    }\r\n  }\r\n\r\n  async login(email, password) {\r\n    try {\r\n      const { data } = await axios.post('/api/users/login/',{ username: email, password: password });\r\n      return data;\r\n    } catch (error) {\r\n      throw error.response && error.response.data.detail\r\n        ? error.response.data.detail\r\n        : error.message;\r\n    }\r\n  }\r\n}\r\n\r\nconst userAPI = new UserAPI();\r\n\r\nexport default userAPI;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}